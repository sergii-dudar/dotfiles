#!/usr/bin/env bash
# Display RAM usage in %.

case "$BLOCK_BUTTON" in
    6) terminal -e "$EDITOR" "$0" ;;
esac

. "$HOME"/dotfiles/bin/dwm/colorscheme

used_mib="$(free --mebi | grep '^Mem:' | tr -s ' ' | cut -d' ' -f3)"
total_mib="$(free --mebi | grep '^Mem:' | tr -s ' ' | cut -d' ' -f2)"

# used_percentage="$(echo "scale=2; $used_mib / $total_mib * 100" | bc)"
used_percentage="$((used_mib * 100 / total_mib))"
echo "^c#a6e3a1^ïˆ³  ^c$FG_COLOR^$used_percentage%$SPLIT"